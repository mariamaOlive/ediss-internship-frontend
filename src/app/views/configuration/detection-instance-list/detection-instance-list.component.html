<div class="ms-3 mb-3 d-flex justify-content-start align-items-center">
    <a (click)="navigateBack()" class="icon-back">
        <svg cIcon class="my-1 text-secondary" name="cilArrowCircleLeft" width="40"></svg>
    </a>
    <span class="text-secondary fs-3 ms-3">Detection Instances</span>
  </div>
  
  <c-container>
    <c-row class="g-4">
      <c-col sm="6" xl="3" *ngFor="let detectionInstance of detectionInstanceList">
          <c-card class="card-container mb-3 p-0 shadow-sm" (click)="navigateToDetectionInstance(detectionInstance.id)">
            <div class="card-container-top position-relative">
              <span class="ms-3 mt-3 align-middle status-bubble"
                [ngClass]="{'bg-success': detectionInstance?.isRunning, 'bg-danger': !detectionInstance?.isRunning}"
                [cTooltip]="detectionInstance?.isRunning ? 'Running' : 'Paused'" cTooltipPlacement="right">
              </span>
            
              <!-- DropDown -->
              <c-dropdown alignment="end" variant="btn-group" class="position-absolute top-0 end-0 m-2">
                <button [caret]="false" cButton cDropdownToggle class="p-0" color="transparent" aria-label="Open dropdown"
                (click)="$event.stopPropagation()">
                  <svg cIcon name="cilOptions"></svg>
                </button>
                <ul cDropdownMenu class="shadow">
                  <li><a [routerLink]="[]" cDropdownItem (click)="deleteDetectionInstance(detectionInstance.id); $event.stopPropagation()">Delete</a></li>
                </ul>
              </c-dropdown>
            
              <button cButton variant="outline"  color="danger" class="position-absolute bottom-0 end-0 m-2" (click)="stopDetectionInstance(detectionInstance.id); $event.stopPropagation()">
                stop
              </button>
            </div>
  
            <!-- Card body -->
            <c-card-body>
              <h6 cCardTitle class="mb-0">{{detectionInstance.name}}</h6>
              <p cCardText>
                <small class="text-medium-emphasis">{{detectionInstance.detectionType === 1 ? 'PPE Detection' : 'Pallet Detection'}}</small>
              </p>
            </c-card-body>
          </c-card>
      </c-col>
    
      <!-- Add new card -->
      <c-col sm="6" xl="3">
          <c-card class="mb-3 p-0 shadow-sm card-container card-container-full" (click)="navigateToAddDetectionInstance()">
            <c-card-body class="d-flex align-items-center justify-content-center text-medium-emphasis">
              Create Detection Instance
            </c-card-body>
          </c-card>
      </c-col>
    </c-row>
  </c-container>
  
  